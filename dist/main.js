(()=>{const e=document.getElementById("content");if(null===localStorage.getItem("noteList"))var t=[];else t=JSON.parse(localStorage.getItem("noteList"));if(null===localStorage.getItem("sectionList"))var n=["Home"];else n=JSON.parse(localStorage.getItem("sectionList"));function i(){0===n.length&&n.push("Home"),localStorage.setItem("noteList",JSON.stringify(t)),localStorage.setItem("sectionList",JSON.stringify(n)),e.innerHTML="",e.append(function(){const e=document.createElement("div"),t=document.createElement("h1");t.innerText="This is a motherfucking to-do list.",e.appendChild(t),e.appendChild(function(){const e=document.createElement("p");e.setAttribute("id","header-sections"),e.append(document.createTextNode("Sections: "));for(let t=0;t<n.length;t++){const i=document.createElement("button");i.innerText=n[t],i.setAttribute("class","link-button"),i.classList.add("header-section-link"),i.setAttribute("id",n[t]),e.append(i),e.append(document.createTextNode(" | "))}return e}());const i=document.createElement("button");return i.innerHTML="Create item",i.setAttribute("id","create-item-button"),i.setAttribute("class","link-button"),e.appendChild(i),e}()),function(){document.getElementById("header-sections").onclick=function(e){const t=e.target;if(!t.classList.contains("header-section-link"))return;const n=document.querySelectorAll("button.header-section-link");for(let e=0;e<n.length;e++)n[e].classList.contains("s-active")&&n[e].classList.remove("s-active");t.classList.add("s-active"),localStorage.setItem("currentSection",t.id),i()};var e=!1;for(let t=0;t<document.querySelectorAll("button.header-section-link").length;t++)document.querySelectorAll("button.header-section-link")[t].classList.contains("s-active")&&(e=!0);var t=!1;for(let e=0;e<n.length;e++)n[e]===localStorage.getItem("currentSection")&&(t=!0);!1===e&&(null===localStorage.getItem("currentSection")?document.querySelectorAll("button.header-section-link")[0].classList.add("s-active"):t?document.getElementById(localStorage.getItem("currentSection")).classList.add("s-active"):document.querySelectorAll("button.header-section-link")[0].classList.add("s-active"))}(),e.append(function(){const e=document.createElement("div");return e.setAttribute("id","body"),e.appendChild(function(){const e=document.createElement("div");e.setAttribute("class","modal"),e.setAttribute("id","create-item-modal");const t=document.createElement("p");t.innerHTML="Create: <button class='link-button' id='section-button'>section</button> | <button class='link-button' id='note-button'>note</button> | <button class='link-button' id='create-item-closer'>&times;</button>",t.setAttribute("class","modal-header"),e.appendChild(t);const n=document.createElement("div");return n.setAttribute("id","modal-body"),e.appendChild(n),e}()),e.appendChild(function(){const e=document.createElement("ul"),n=document.querySelector("button.s-active").id;for(let i=0;i<t.length;i++)if(t[i].section===n){const n=document.createElement("button");n.classList="link-button delete-button",n.setAttribute("id",i),n.innerText="delete";const o=document.createElement("button");o.classList="link-button edit-button",o.setAttribute("id",i),o.innerText="edit";const l=document.createElement("p");l.innerHTML="<li>"+t[i].name+" | "+t[i].description+" | "+t[i].date+" | "+t[i].priority+"</li>",l.appendChild(o),l.appendChild(document.createTextNode(" | ")),l.appendChild(n),e.appendChild(l)}return e}()),e.appendChild(function(){const e=document.createElement("button");return e.classList.add("link-button"),e.classList.add("delete-section-button"),e.setAttribute("id","delete-section-button"),e.innerText="Delete section",e.addEventListener("click",(()=>{const e=n.indexOf(document.querySelector("button.s-active").id);e>-1&&n.splice(e,1);for(let e=0;e<t.length;e++)t[e].section===document.querySelector("button.s-active").id?t.splice(e,1):++e;i()})),e}()),e}()),e.append(function(){const e=document.createElement("div"),t=document.createElement("div");return t.setAttribute("class","overlay"),t.setAttribute("id","overlay"),e.appendChild(t),e}()),function(){document.getElementById("create-item-button").addEventListener("click",(e=>{l(e.target.id.replace("button","modal"))})),document.getElementById("create-item-closer").addEventListener("click",(e=>{d(e.target.id.replace("closer","modal"))})),document.getElementById("section-button").addEventListener("click",(e=>{!function(){document.getElementById("modal-body").innerHTML="";const e=document.createElement("form");e.setAttribute("onsubmit","modalSectionFormSubmit()"),e.innerHTML='<hr><label for="sname">Section name:</label><br><input type="text" id="sname" name="sname" required><br><br><input type="submit" id="section-submit" value="submit""><br><br>',document.getElementById("modal-body").appendChild(e)}()})),document.getElementById("note-button").addEventListener("click",(e=>{!function(){document.getElementById("modal-body").innerHTML="";const e=document.createElement("form");e.setAttribute("onsubmit","modalNoteFormSubmit()");const t=[];for(let e=0;e<n.length;e++){var i;i=n[e]===document.querySelector("button.s-active").id?String('<option value="'+n[e]+'" selected>'+n[e]+"</options>"):String('<option value="'+n[e]+'">'+n[e]+"</options>"),t.push(i)}const o=String('<label for="sect">Sections:</label><br><select id="sect" name="sect" selected="'+String(document.getElementsByClassName("s-active")[0].innerText)+'" required>'+t.join("")+"</select>");e.innerHTML='<hr><label for="nname">Note name:</label><br><input type="text" id="nname" name="nname" required><br><label for="desc">Description:</label><br><input type="text" id="desc" name="desc" required><br><label for="date">Due date:</label><br><input type="date" id="date" name="date" required><br><label for="priority">Priority:</label><br><select id="priority" name="priority" required><option value="high">High</option><option value="medium">Medium</option><option value="low">Low</option></select><br>'+o+'<br><br><input type="submit" id="note-submit" value="submit"><br><br>',document.getElementById("modal-body").appendChild(e)}()}));for(let e=0;e<document.getElementsByClassName("delete-button").length;e++)document.getElementsByClassName("delete-button")[e].addEventListener("click",(e=>{t.splice(e.target.id,1),i()}));for(let e=0;e<document.getElementsByClassName("edit-button").length;e++)document.getElementsByClassName("edit-button")[e].addEventListener("click",(e=>{document.getElementById("body").appendChild(o(e.target.id)),l("edit-modal")}))}()}function o(e){const o=document.createElement("div");o.setAttribute("class","modal"),o.setAttribute("id","edit-modal");const l=document.createElement("p");l.innerHTML="Edit: "+t[e].name,l.setAttribute("class","modal-header"),o.appendChild(l);const c=document.createElement("div");c.setAttribute("id","edit-modal-body"),o.appendChild(c);const a=document.createElement("form"),r=[];for(let i=0;i<n.length;i++){var s;s=n[i]===t[e].section?String('<option value="'+n[i]+'" selected>'+n[i]+"</options>"):String('<option value="'+n[i]+'">'+n[i]+"</options>"),r.push(s)}const u=String('<label for="esect">Sections:</label><br><select id="esect" name="esect" required>'+r.join("")+"</select>");a.innerHTML='<hr><label for="enname">Note name:</label><br><input type="text" id="enname" name="enname" value="'+t[e].name+'" required><br><label for="edesc">Description:</label><br><input type="text" id="edesc" name="edesc" value="'+t[e].description+'" required><br><label for="edate">Due date:</label><br><input type="date" id="edate" value="'+t[e].date+'" name="edate" required><br><label for="epriority">Priority:</label><br><select id="epriority" name="epriority" value="'+t[e].priority+'" required><option value="high">High</option><option value="medium">Medium</option><option value="low">Low</option></select><br>'+u+"<br><br>",c.appendChild(a);const m=document.createElement("button");return m.setAttribute("id","edit-submit"),m.setAttribute("value","submit"),m.innerText="submit",m.addEventListener("click",(n=>{n.preventDefault(),function(e){const n=document.getElementById("enname").value,o=document.getElementById("edesc").value,l=document.getElementById("edate").value,c=document.getElementById("epriority").value,a=document.getElementById("esect").value;t[e].name=n,t[e].description=o,t[e].date=l,t[e].priority=c,t[e].section=a,document.getElementById("enname").value="",document.getElementById("edesc").value="",document.getElementById("esect").value="",d("edit-modal"),i()}(e)})),a.appendChild(m),a.appendChild(document.createElement("br")),a.appendChild(document.createElement("br")),o}function l(e){const t=document.getElementById(e);null!==t&&(t.classList.add("active"),document.getElementById("overlay").classList.add("active"))}function d(e){const t=document.getElementById(e);null!==t&&(t.classList.remove("active"),document.getElementById("overlay").classList.remove("active"))}i()})();